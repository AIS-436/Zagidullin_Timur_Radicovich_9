# –ó–∞–ø—É—Å–∫ Java Spring Boot –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –≤ –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ–π —Å—Ä–µ–¥–µ: –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ systemd –∏ –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ

## –û–ì–õ–ê–í–õ–ï–ù–ò–ï

* [–í–≤–µ–¥–µ–Ω–∏–µ](#–≤–≤–µ–¥–µ–Ω–∏–µ)
* [1. –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∑–∞–ø—É—Å–∫–∞ Java-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –≤ Production](#1-–æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏-–∑–∞–ø—É—Å–∫–∞-java-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π-–≤-production)

  * [1.1 –§–æ—Ä–º–∞—Ç –ø–æ—Å—Ç–∞–≤–∫–∏ (Fat JAR)](#11-—Ñ–æ—Ä–º–∞—Ç-–ø–æ—Å—Ç–∞–≤–∫–∏-fat-jar)
  * [1.2 –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –æ–∫—Ä—É–∂–µ–Ω–∏—é](#12-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è-–∫-–æ–∫—Ä—É–∂–µ–Ω–∏—é)
* [2. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–æ–º —á–µ—Ä–µ–∑ systemd](#2-—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-–ø—Ä–æ—Ü–µ—Å—Å–æ–º-—á–µ—Ä–µ–∑-systemd)

  * [2.1 –ü–æ–Ω—è—Ç–∏–µ systemd –∏ Unit-—Ñ–∞–π–ª–æ–≤](#21-–ø–æ–Ω—è—Ç–∏–µ-systemd-–∏-unit-—Ñ–∞–π–ª–æ–≤)
  * [2.2 –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Å–ª—É–∂–±—ã](#22-—Å–æ–∑–¥–∞–Ω–∏–µ-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏-—Å–ª—É–∂–±—ã)
  * [2.3 –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è](#23-—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-–∂–∏–∑–Ω–µ–Ω–Ω—ã–º-—Ü–∏–∫–ª–æ–º-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)
* [3. –ü—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ (Nginx)](#3-–ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ-–∑–∞–ø—Ä–æ—Å–æ–≤-nginx)

  * [3.1 –ó–∞—á–µ–º –Ω—É–∂–µ–Ω Reverse Proxy](#31-–∑–∞—á–µ–º-–Ω—É–∂–µ–Ω-reverse-proxy)
  * [3.2 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Nginx –¥–ª—è Spring Boot](#32-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-nginx-–¥–ª—è-spring-boot)
  * [3.3 –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –∏ SSL](#33-–æ–±—Ä–∞–±–æ—Ç–∫–∞-–∑–∞–≥–æ–ª–æ–≤–∫–æ–≤-–∏-ssl)
* [4. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥](#4-–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å-–∏-–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥)

  * [4.1 –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ –ø—Ä–∞–≤–∞–º–∏](#41-—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏-–∏-–ø—Ä–∞–≤–∞–º–∏)
  * [4.2 –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (journald)](#42-–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ-journald)
  * [4.3 –¢—é–Ω–∏–Ω–≥ JVM](#43-—Ç—é–Ω–∏–Ω–≥-jvm)
* [–ó–∞–∫–ª—é—á–µ–Ω–∏–µ](#–∑–∞–∫–ª—é—á–µ–Ω–∏–µ)
* [–°–ø–∏—Å–æ–∫ –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä—ã](#—Å–ø–∏—Å–æ–∫-–ª–∏—Ç–µ—Ä–∞—Ç—É—Ä—ã)

---

## –í–≤–µ–¥–µ–Ω–∏–µ

Java Spring Boot —è–≤–ª—è–µ—Ç—Å—è –æ–¥–Ω–∏–º –∏–∑ –Ω–∞–∏–±–æ–ª–µ–µ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Å–µ—Ä–≤–µ—Ä–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –∏ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤ –±–ª–∞–≥–æ–¥–∞—Ä—è –ø—Ä–æ—Å—Ç–æ—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏ –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–º—É –≤–µ–±-—Å–µ—Ä–≤–µ—Ä—É. –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π `java -jar` –¥–µ–ª–∞–µ—Ç Spring Boot —É–¥–æ–±–Ω—ã–º –Ω–∞ —ç—Ç–∞–ø–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏, –æ–¥–Ω–∞–∫–æ –≤ –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ–π —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏–∏ —Ç–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥ –æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–º.

–í production-—Å—Ä–µ–¥–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å, —É–ø—Ä–∞–≤–ª—è–µ–º–æ—Å—Ç—å –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–µ—Ç–µ–≤–æ–≥–æ —Ç—Ä–∞—Ñ–∏–∫–∞. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Å–∏—Å—Ç–µ–º—ã, –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–≤–µ—Ä—à–∞—Ç—å—Å—è, –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –ø—Ä–∏ —Å–±–æ—è—Ö, –∞ —Ç–∞–∫–∂–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å HTTP/HTTPS-–∑–∞–ø—Ä–æ—Å—ã.

–î–ª—è —Ä–µ—à–µ–Ω–∏—è —ç—Ç–∏—Ö –∑–∞–¥–∞—á –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–≤—è–∑–∫–∞ **systemd** –∏ **Nginx**. Systemd —É–ø—Ä–∞–≤–ª—è–µ—Ç –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º Java-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –∞ Nginx –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Ñ—É–Ω–∫—Ü–∏–∏ –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä–∞, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è SSL-—Ç–µ—Ä–º–∏–Ω–∞—Ü–∏—é, –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—é –∏ –∑–∞—â–∏—Ç—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

–¶–µ–ª—å –¥–∞–Ω–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ ‚Äî –ø–æ–∫–∞–∑–∞—Ç—å –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–¥—Ö–æ–¥ –∫ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—é Spring Boot –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ–π Linux-—Å—Ä–µ–¥–µ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º systemd –∏ Nginx.

---

## 1. –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∑–∞–ø—É—Å–∫–∞ Java-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –≤ Production

### 1.1 –§–æ—Ä–º–∞—Ç –ø–æ—Å—Ç–∞–≤–∫–∏ (Fat JAR)

Spring Boot –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ñ–æ—Ä–º–∞—Ç **Fat JAR (Uber JAR)** ‚Äî —Å–∞–º–æ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–π –∞—Ä—Ö–∏–≤, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π:

* —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è;
* –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏;
* –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –≤–µ–±-—Å–µ—Ä–≤–µ—Ä (Tomcat, Jetty –∏–ª–∏ Undertow).

–¢–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥ —É–ø—Ä–æ—â–∞–µ—Ç –¥–æ—Å—Ç–∞–≤–∫—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –æ–¥–Ω–∞–∫–æ –ø—Ä—è–º–æ–π –∑–∞–ø—É—Å–∫ JAR-—Ñ–∞–π–ª–∞ –≤ production –∏–º–µ–µ—Ç —Ä—è–¥ –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–æ–≤:

* –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ñ–æ–Ω–æ–≤–æ–≥–æ —Ä–µ–∂–∏–º–∞;
* –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞;
* –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å root-–ø—Ä–∞–≤ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–æ—Ä—Ç–∞–º–∏ –Ω–∏–∂–µ 1024.

–ü–æ—ç—Ç–æ–º—É –≤ –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ–π —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∫–∞–∫ —Å–∏—Å—Ç–µ–º–Ω–∞—è —Å–ª—É–∂–±–∞.

---

### 1.2 –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –æ–∫—Ä—É–∂–µ–Ω–∏—é

–ü–µ—Ä–µ–¥ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å —Å–µ—Ä–≤–µ—Ä:

* **Java**: —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å LTS-–≤–µ—Ä—Å–∏–∏ (17 –∏–ª–∏ 21);
* **–û—Ç–¥–µ–ª—å–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å**: –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –¥–æ–ª–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –æ—Ç –∏–º–µ–Ω–∏ root;
* **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–∞—Ç–∞–ª–æ–≥–æ–≤**:

  * `/opt/app` ‚Äî –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–µ —Ñ–∞–π–ª—ã;
  * `/etc/app` ‚Äî –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è;
  * `/var/log/app` ‚Äî –ª–æ–≥–∏.

–¢–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ª—É—á—à–∏–º –ø—Ä–∞–∫—Ç–∏–∫–∞–º –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏—è.

---

## 2. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–æ–º —á–µ—Ä–µ–∑ systemd

### 2.1 –ü–æ–Ω—è—Ç–∏–µ systemd –∏ Unit-—Ñ–∞–π–ª–æ–≤

Systemd ‚Äî —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ Linux. –î–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ—Ä–≤–∏—Å–∞–º–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è unit-—Ñ–∞–π–ª—ã —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º `.service`, –∫–æ—Ç–æ—Ä—ã–µ —Ä–∞—Å–ø–æ–ª–∞–≥–∞—é—Ç—Å—è –≤ `/etc/systemd/system`.

Unit-—Ñ–∞–π–ª —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ —Å–µ–∫—Ü–∏–π:

* `[Unit]` ‚Äî –æ–ø–∏—Å–∞–Ω–∏–µ –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏;
* `[Service]` ‚Äî –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—É—Å–∫–∞;
* `[Install]` ‚Äî –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞.

---

### 2.2 –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Å–ª—É–∂–±—ã

–ö–ª—é—á–µ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã unit-—Ñ–∞–π–ª–∞ –¥–ª—è Spring Boot –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:

* `User` ‚Äî –∑–∞–ø—É—Å–∫ –æ—Ç –Ω–µ–ø—Ä–∏–≤–∏–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è;
* `ExecStart` ‚Äî –∫–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å–∫–∞ —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –ø–æ–ª–Ω–æ–≥–æ –ø—É—Ç–∏;
* `Restart=always` ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫;
* `SuccessExitStatus=143` ‚Äî –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ Java-–ø—Ä–æ—Ü–µ—Å—Å–∞.

–≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∏ —É–ø—Ä–∞–≤–ª—è–µ–º–æ—Å—Ç—å —Å–µ—Ä–≤–∏—Å–∞.

---

### 2.3 –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã systemd:

* `systemctl start app` ‚Äî –∑–∞–ø—É—Å–∫;
* `systemctl stop app` ‚Äî –æ—Å—Ç–∞–Ω–æ–≤–∫–∞;
* `systemctl status app` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è;
* `systemctl enable app` ‚Äî –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Å–∏—Å—Ç–µ–º—ã.

–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è –≤—ã–ø–æ–ª–Ω–∏—Ç—å `systemctl daemon-reload`.

---

## 3. –ü—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ (Nginx)

### 3.1 –ó–∞—á–µ–º –Ω—É–∂–µ–Ω Reverse Proxy

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Nginx –≤ –∫–∞—á–µ—Å—Ç–≤–µ –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –ø—Ä–æ–∫—Å–∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç:

* —Å–∫—Ä—ã—Ç—å –≤–Ω—É—Ç—Ä–µ–Ω–Ω—é—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è;
* —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –ø–æ—Ä—Ç–∞—Ö 80 –∏ 443;
* –≤—ã–Ω–µ—Å—Ç–∏ SSL-—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –∏–∑ Java-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è;
* —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –æ—Ç–¥–∞–≤–∞—Ç—å —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã.

Spring Boot –æ–±—ã—á–Ω–æ —Å–ª—É—à–∞–µ—Ç –ª–æ–∫–∞–ª—å–Ω—ã–π –ø–æ—Ä—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, 8080), –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã–π –Ω–∞–ø—Ä—è–º—É—é –∏–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞.

---

### 3.2 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Nginx –¥–ª—è Spring Boot

Nginx –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –≤—Ö–æ–¥—è—â–∏–µ –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—ã–π –ø–æ—Ä—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –ü—Ä–∏ —ç—Ç–æ–º –≤–∞–∂–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –∑–∞–≥–æ–ª–æ–≤–∫–∏:

* `Host`
* `X-Real-IP`
* `X-Forwarded-For`
* `X-Forwarded-Proto`

–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫ –∑–∞–ø—Ä–æ—Å–∞.

---

### 3.3 –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –∏ SSL

–î–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã –∑–∞ –ø—Ä–æ–∫—Å–∏ –≤ Spring Boot –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–∫–ª—é—á–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É forward-–∑–∞–≥–æ–ª–æ–≤–∫–æ–≤:

```
server.forward-headers-strategy=native
```

SSL-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –æ–±—ã—á–Ω–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ **Let‚Äôs Encrypt + Certbot**, –∞ Nginx –≤—ã–ø–æ–ª–Ω—è–µ—Ç HTTPS-—Ç–µ—Ä–º–∏–Ω–∞—Ü–∏—é –∏ —Ä–µ–¥–∏—Ä–µ–∫—Ç —Å HTTP –Ω–∞ HTTPS.

---

## 4. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### 4.1 –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ –ø—Ä–∞–≤–∞–º–∏

–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:

* –∑–∞–ø—É—Å–∫–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ç –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è;
* –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å –ø—Ä–∞–≤–∞ –Ω–∞ JAR-—Ñ–∞–π–ª;
* –Ω–µ —Ö—Ä–∞–Ω–∏—Ç—å –ø–∞—Ä–æ–ª–∏ –∏ –∫–ª—é—á–∏ –≤ –∫–æ–¥–µ.

Systemd –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–µ—Ä–µ–¥–∞—á—É —Å–µ–∫—Ä–µ—Ç–æ–≤ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è.

---

### 4.2 –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (journald)

Systemd –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–±–∏—Ä–∞–µ—Ç –ª–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —á–µ—Ä–µ–∑ `stdout` –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏—Ö –≤ journald.

–ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:

* `journalctl -u app -f`
* `journalctl -u app --since "1 hour ago"`

–≠—Ç–æ —É–ø—Ä–æ—â–∞–µ—Ç –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É.

---

### 4.3 –¢—é–Ω–∏–Ω–≥ JVM

–î–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏—è –ø–∞–º—è—Ç–∏ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—Ç—å —Ä–µ—Å—É—Ä—Å—ã JVM:

* `-Xms`, `-Xmx` ‚Äî —Ä–∞–∑–º–µ—Ä—ã –∫—É—á–∏;
* `-XX:+UseG1GC` ‚Äî —Å–µ—Ä–≤–µ—Ä–Ω—ã–π —Å–±–æ—Ä—â–∏–∫ –º—É—Å–æ—Ä–∞.

–ë–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π Java –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–∏—Ç—å –≤—Å—é –¥–æ—Å—Ç—É–ø–Ω—É—é –ø–∞–º—è—Ç—å —Å–µ—Ä–≤–µ—Ä–∞.

---

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–í —Ä–∞–º–∫–∞—Ö –ø—Ä–æ–µ–∫—Ç–∞ –±—ã–ª —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–¥—Ö–æ–¥ –∫ –∑–∞–ø—É—Å–∫—É Java Spring Boot –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –≤ –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ–π —Å—Ä–µ–¥–µ Linux. –ü–æ–∫–∞–∑–∞–Ω–æ, —á—Ç–æ –ø—Ä–æ—Å—Ç–æ–π –∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ `java -jar` –Ω–µ —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—è–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.

–°–≤—è–∑–∫–∞ **Spring Boot + systemd + Nginx** —è–≤–ª—è–µ—Ç—Å—è –æ—Ç—Ä–∞—Å–ª–µ–≤—ã–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–æ–º –¥–ª—è —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏–∏ Java-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –≤–Ω–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–Ω—ã—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º –∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω—É—é, –±–µ–∑–æ–ø–∞—Å–Ω—É—é –∏ —É–ø—Ä–∞–≤–ª—è–µ–º—É—é —Ä–∞–±–æ—Ç—É —Å–µ—Ä–≤–∏—Å–æ–≤.

---

## –°–ø–∏—Å–æ–∫ –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä—ã

1. Walls C. *Spring Boot in Action*. Manning Publications, 2016.
2. Spring.io. *Spring Boot Reference Documentation*.
   [https://docs.spring.io/spring-boot/docs/current/reference/html/](https://docs.spring.io/spring-boot/docs/current/reference/html/)
3. Freedesktop.org. *systemd System and Service Manager*.
   [https://www.freedesktop.org/wiki/Software/systemd/](https://www.freedesktop.org/wiki/Software/systemd/)
4. Nginx.org. *NGINX Reverse Proxy*.
   [https://docs.nginx.com/nginx/admin-guide/web-server/reverse-proxy/](https://docs.nginx.com/nginx/admin-guide/web-server/reverse-proxy/)
5. Baeldung. *Deploying Spring Boot Applications*.
   [https://www.baeldung.com/spring-boot-deployment](https://www.baeldung.com/spring-boot-deployment)
6. DigitalOcean. *How To Run Spring Boot as a Systemd Service*.
   [https://www.digitalocean.com/community/tutorials/how-to-deploy-a-spring-boot-application-on-ubuntu](https://www.digitalocean.com/community/tutorials/how-to-deploy-a-spring-boot-application-on-ubuntu)
7. Oracle. *Java HotSpot VM Garbage Collection Tuning Guide*.
   [https://docs.oracle.com/en/java/javase/17/gctuning/](https://docs.oracle.com/en/java/javase/17/gctuning/)

* üîπ –∏–ª–∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–≤–æ–π GitHub-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –æ—Ü–µ–Ω–∫–µ ¬´–æ—Ç–ª–∏—á–Ω–æ¬ª
